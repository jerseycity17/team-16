<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    </head>
<body>

<form action="/send" method="post" onsubmit="this.submit(); this.reset(); return false;">
  Alert:<br>
  <input type="text" name="title">
  <br>
  Description:<br>
  <input type="text" name="description">
  <br><br>
  Tier:<br>
  <input type="text" name="tier">
  <br><br>
  <input type="submit" value="Submit">
</form> 
<form action="/logout" method="post">
    <input type="submit" value="Signout" >
</form>
<p>If you click the "Submit" button, the form-data will be sent to all users in your roster</p>

<ul id="alerts">

</ul>
</body>
</html>

<script>
    $(document).ready(()=>{
        updateAlertList();
    })
    async function getAlerts()
    {
        let data = await $.ajax({url: "/alerts"});
        return data;
    }
    async function updateAlertList()
    {
        let alerts = await getAlerts();
        console.log(JSON.parse(JSON.stringify(alerts)));
        console.log(alerts[0]);
        alerts.forEach(function(element) {
            $("#alerts").append($("<li>").append(element.title));
        }, this);
        
    }
</script>